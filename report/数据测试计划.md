# 知乎网页版测试计划

**版本1.0**

修正履历

|    时间    | 版本  |                          描述                          | 编辑者 |
| :--------: | :---: | :----------------------------------------------------: | :----: |
| 2021/06/18 | Draft |                        添加简介                        | 刘书畅 |
| 2021/06/19 | Draft | 添加测试需求、策略，资源，项目里程碑，可交付工件，附录 | 刘书畅 |



## 1. 简介

本次测试针对`MongoDB`,`MySQL`,`MariaDB`,`SQL Server`进行压力测试。

### 1.1 目的

数据库系统性能测试的这一测试计划文档有助于实现以下目标：

1. 评估各个数据库的能力和各个数据库使用方法的差异，根据并发数，吞吐量和时延等指标对数据库进行性能评估
2. 通过性能测试识别体系中的弱点，受控的负荷可以被增加到一个极端的水平，从而修复体系的瓶颈或薄弱的地方
3. 系统调优：重复运行测试，验证调整系统的活动得到了预期的结果，从而改进性能。检测软件中的问题：长时间的测试执行可导致程序发生由于内存泄露引起的失败，揭示程序中的隐含的问题或冲突
4. 验证系统的稳定性和可靠性
   

### 1.2 背景

本项目模拟了一个电影网站的存储场景，主要功能为上传电影和查询电影。测试人员通过为`MovieRepository`和`UserRepository`两个接口提供不同数据库的实现，来构建不同数据库的应用实例，从而测试数据库在真实应用场景下的性能。

### 1.3 范围

本项目的测试类型为数据库性能测试，针对不同指标本次测试设计了两个测试场景，测试场景大致情况如下：

1. 针对吞吐量，我们选取的是大量用户上传大量电影信息和简介，因为这个过程设计到非结构化数据电影简介，对系统的吞吐量要求比较高

2. 针对响应时间，我们选取的测试场景是大量用户根据电影名查询相应信息，设计到对数据库的访问和读取，对系统的响应时间要求较高
3. 以上两种场景对系统的并发性要求均较高，尤其是根据电影名查询相应信息

针对以上场景，我们对不同数据库（`MongoDB`,`MySQL`,`MariaDB`,`SQL Server`）的并发数、吞吐量和时延等指标进行分析。



## 2. 测试需求

下面列出了被确定为测试对象的项目

1. 以100并发数分别对`MongoDB`,`MySQL`,`MariaDB`,`SQL Server`进行10299条数据的上传电影请求
2. 以1000并发数分别对`MongoDB`,`MySQL`,`MariaDB`,`SQL Server`进行10299条数据的电影查询请求

分别使用`Apache JMeter`和`python locust`工具对四个数据库进行测试，获取并发数、吞吐量和时延的指标



## 3. 测试策略

### 3.1 测试类型

#### 3.1.1 性能评价

| 测试目标             | 对不同数据库的响应时间、事务处理速度等需求进行评测和评估     |
| -------------------- | ------------------------------------------------------------ |
| **方法**             | 使用为功能或业务周期测试制定的测试过程。通过增加数据文件增加事务数量，或通过修改脚本来增加每项事务的迭代数。脚本在一台计算机上运行。 |
| **完成标准**         | 所计划的测试已全部执行。在每个事务所预期或要求的时间范围内成功地完成测试脚本，没有发生任何故障。 |
| **需考虑的特殊事项** | 无                                                           |

### 3.2 工具

* python locust
* Apache JMeter

## 4. 资源

### 4.1 角色

下表列出了在此项目的人员配备方面所做的各种假定。

<table >
	<tr>
		<td colspan="3" align="center">人力资源</td>
	<tr>
	<tr>
		<td align="center">角色</td>
		<td align="center">推荐的最少资源</td>
		<td align="center">具体职责或注释</td>
	</tr>
	<tr>
		<td align="center">测试经理</td>
		<td align="center">1</td>
		<td align="center">进行管理监督。职责：提供技术指导；获取适当的资源。</td>
	</tr>
	<tr>
		<td align="center">测试设计员</td>
		<td align="center">1</td>
		<td align="center">确定测试用例、确定测试用例的优先级并实施测试用例。  职责：生成测试计划；生成测试模型； 评估测试工作的有效性</td>
	</tr> 
    <tr>
		<td align="center">测试员</td>
		<td align="center">2</td>
		<td align="center">执行测试。职责：执行测试；记录结果；记录变更请求。</td>
	</tr> 
</table>



### 4.2 系统

下表列出了测试项目所需的系统资源：

| 资源          | 名称/类型                |
| ------------- | ------------------------ |
| 客户端测试 PC | Windows 11 x64  个人电脑 |



## 5. 项目里程碑

| **里程碑任务** | **工作量** | **开始日期** | **结束日期** |
| :------------: | :--------: | :----------: | :----------: |
|  制定测试计划  |  5工作时   |  2021.6.01   |  2021.6.01   |
|    设计测试    |  3工作时   |  2021.6.02   |  2021.6.02   |
|    实施测试    |  10工作时  |  2021.6.18   |  2021.6.19   |
|    评估测试    |  5工作时   |  2021.6.19   |  2021.6.19   |



## 6. 可交付工件

本项目将创建两个文档。

### 6.1 测试计划

《测试计划》由刘书畅创建，交付对象为申倬豪，交付时间为2021.6.19。

### 6.2 测试报告

《测试报告》由申倬豪、张晗翀、刘书畅、刘勉之创建，交付对象为申倬豪，交付时间为2021.6.19。



## 7. 附录 A:项目任务

以下是一些与测试有关的任务：

1. 制定测试计划

   \-  确定测试需求

   \-  评估风险

   \-  制定测试策略

   \-  确定测试资源

   \-  创建时间表

   \-  生成测试计划

2. 设计测试

   \-  确定并说明测试用例

   \-   确定并系统测试过程

   \-   复审和评估测试覆盖  

3. 执行测试

   \-   执行测试过程

   \-   评估测试的执行情况

   \-   核实结果

   \-   调查意外结果

   \-   记录缺陷

4. ·  评估测试

   \-   评估测试用例覆盖

   \-   分析缺陷

   \-   确定是否达到了测试完成标准与成功标准